(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17235,e=>{"use strict";var t=e.i(43476),r=e.i(38036),o=e.i(75254);let i=(0,o.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var l=e.i(55436);let s=(0,o.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function n({title:e,subtitle:o}){let n=(0,r.getCurrentUser)();return(0,t.jsxs)("header",{style:{height:"70px",backgroundColor:"#ffffff",borderBottom:"1px solid #e2e8f0",padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,zIndex:40},children:[(0,t.jsxs)("div",{children:[e&&(0,t.jsx)("h1",{style:{fontSize:"20px",fontWeight:700,color:"#0f172a",margin:0},children:e}),o&&(0,t.jsx)("p",{style:{fontSize:"13px",color:"#64748b",margin:"2px 0 0 0"},children:o})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",height:"40px",padding:"0 14px",backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"10px",cursor:"pointer"},children:[(0,t.jsx)(l.Search,{style:{width:"16px",height:"16px",color:"#94a3b8"}}),(0,t.jsx)("span",{style:{fontSize:"13px",color:"#94a3b8"},children:"بحث..."})]}),(0,t.jsx)("button",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",borderRadius:"10px",cursor:"pointer",color:"#64748b"},children:(0,t.jsx)(s,{style:{width:"20px",height:"20px"}})}),(0,t.jsxs)("button",{style:{position:"relative",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",borderRadius:"10px",cursor:"pointer",color:"#64748b"},children:[(0,t.jsx)(i,{style:{width:"20px",height:"20px"}}),(0,t.jsx)("span",{style:{position:"absolute",top:"8px",left:"8px",width:"8px",height:"8px",backgroundColor:"#ef4444",borderRadius:"50%",border:"2px solid #ffffff"}})]}),(0,t.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"14px",fontWeight:600,boxShadow:"0 2px 8px rgba(99, 102, 241, 0.3)",cursor:"pointer"},children:n?.name.charAt(0)||"A"})]})]})}e.s(["default",()=>n],17235)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},65680,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(18566),i=e.i(40165),l=e.i(13056),s=e.i(17235);let n=(0,e.i(75254).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var d=e.i(69638),a=e.i(73884);function p(){let e=(0,o.useRouter)(),{user:p}=(0,l.useAuth)(),[x,f]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(""),[y,b]=(0,r.useState)({fullName:"",username:"",password:"",confirmPassword:"",phone:"",position:"مدير"}),m=async t=>{if(t.preventDefault(),g(""),u(!1),!y.fullName.trim())return void g("الرجاء إدخال الاسم الكامل");if(!y.username.trim())return void g("الرجاء إدخال اسم المستخدم");if(!y.password)return void g("الرجاء إدخال كلمة المرور");if(y.password.length<4)return void g("كلمة المرور يجب أن تكون 4 أحرف على الأقل");if(y.password!==y.confirmPassword)return void g("كلمات المرور غير متطابقة");f(!0);try{await (0,i.createEmployee)({fullName:y.fullName,username:y.username,password:y.password,role:"admin",phone:y.phone||void 0,position:y.position},p?.id||"system"),u(!0),b({fullName:"",username:"",password:"",confirmPassword:"",phone:"",position:"مدير"}),setTimeout(()=>{e.push("/admin/workers")},2e3)}catch(e){g(e.message||"حدث خطأ أثناء إضافة حساب الأدمن")}finally{f(!1)}};return(0,t.jsxs)("div",{style:{minHeight:"100vh"},children:[(0,t.jsx)(s.default,{title:"إضافة حساب أدمن",subtitle:"إنشاء حساب مدير جديد"}),(0,t.jsx)("div",{style:{padding:"24px",maxWidth:"600px",margin:"0 auto"},children:(0,t.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"16px",padding:"32px",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[c&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"12px",marginBottom:"24px",color:"#166534"},children:[(0,t.jsx)(d.CheckCircle,{style:{width:"20px",height:"20px"}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontWeight:600,marginBottom:"4px"},children:"تم إنشاء حساب الأدمن بنجاح!"}),(0,t.jsx)("div",{style:{fontSize:"13px",opacity:.8},children:"سيتم توجيهك إلى صفحة الموظفين..."})]})]}),h&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",backgroundColor:"#fef2f2",border:"1px solid #fca5a5",borderRadius:"12px",marginBottom:"24px",color:"#991b1b"},children:[(0,t.jsx)(a.XCircle,{style:{width:"20px",height:"20px"}}),(0,t.jsx)("div",{style:{fontWeight:500},children:h})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},children:[(0,t.jsx)("div",{style:{width:"56px",height:"56px",background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(n,{style:{width:"28px",height:"28px",color:"#ffffff"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",margin:0,marginBottom:"4px"},children:"إضافة حساب أدمن"}),(0,t.jsx)("p",{style:{fontSize:"14px",color:"#64748b",margin:0},children:"إنشاء حساب مدير جديد مع صلاحيات كاملة"})]})]}),(0,t.jsx)("form",{onSubmit:m,children:(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#334155",marginBottom:"8px"},children:["الاسم الكامل ",(0,t.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,t.jsx)("input",{type:"text",value:y.fullName,onChange:e=>b({...y,fullName:e.target.value}),placeholder:"مثال: أحمد محمد",required:!0,style:{width:"100%",padding:"12px 16px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#6366f1",onBlur:e=>e.target.style.borderColor="#e2e8f0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#334155",marginBottom:"8px"},children:["اسم المستخدم ",(0,t.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,t.jsx)("input",{type:"text",value:y.username,onChange:e=>b({...y,username:e.target.value}),placeholder:"مثال: admin",required:!0,style:{width:"100%",padding:"12px 16px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#6366f1",onBlur:e=>e.target.style.borderColor="#e2e8f0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#334155",marginBottom:"8px"},children:["كلمة المرور ",(0,t.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,t.jsx)("input",{type:"password",value:y.password,onChange:e=>b({...y,password:e.target.value}),placeholder:"4 أحرف على الأقل",required:!0,minLength:4,style:{width:"100%",padding:"12px 16px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#6366f1",onBlur:e=>e.target.style.borderColor="#e2e8f0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#334155",marginBottom:"8px"},children:["تأكيد كلمة المرور ",(0,t.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,t.jsx)("input",{type:"password",value:y.confirmPassword,onChange:e=>b({...y,confirmPassword:e.target.value}),placeholder:"أعد إدخال كلمة المرور",required:!0,style:{width:"100%",padding:"12px 16px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#6366f1",onBlur:e=>e.target.style.borderColor="#e2e8f0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#334155",marginBottom:"8px"},children:"رقم الهاتف (اختياري)"}),(0,t.jsx)("input",{type:"tel",value:y.phone,onChange:e=>b({...y,phone:e.target.value}),placeholder:"مثال: 91234567",style:{width:"100%",padding:"12px 16px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#6366f1",onBlur:e=>e.target.style.borderColor="#e2e8f0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#334155",marginBottom:"8px"},children:"المنصب"}),(0,t.jsx)("input",{type:"text",value:y.position,onChange:e=>b({...y,position:e.target.value}),placeholder:"مثال: مدير",style:{width:"100%",padding:"12px 16px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#6366f1",onBlur:e=>e.target.style.borderColor="#e2e8f0"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[(0,t.jsx)("button",{type:"button",onClick:()=>e.push("/admin/workers"),style:{flex:1,padding:"12px 24px",backgroundColor:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#e2e8f0"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#f1f5f9"},children:"إلغاء"}),(0,t.jsx)("button",{type:"submit",disabled:x||c,style:{flex:1,padding:"12px 24px",background:x||c?"#94a3b8":"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:600,color:"#ffffff",cursor:x||c?"not-allowed":"pointer",transition:"all 0.2s"},children:x?"جاري الإنشاء...":c?"تم الإنشاء!":"إنشاء حساب أدمن"})]})]})})]})})]})}e.s(["default",()=>p],65680)}]);