(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17235,e=>{"use strict";var t=e.i(43476),i=e.i(38036),s=e.i(75254);let r=(0,s.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var o=e.i(55436);let l=(0,s.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function n({title:e,subtitle:s}){let n=(0,i.getCurrentUser)();return(0,t.jsxs)("header",{style:{height:"70px",backgroundColor:"#ffffff",borderBottom:"1px solid #e2e8f0",padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,zIndex:40},children:[(0,t.jsxs)("div",{children:[e&&(0,t.jsx)("h1",{style:{fontSize:"20px",fontWeight:700,color:"#0f172a",margin:0},children:e}),s&&(0,t.jsx)("p",{style:{fontSize:"13px",color:"#64748b",margin:"2px 0 0 0"},children:s})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",height:"40px",padding:"0 14px",backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"10px",cursor:"pointer"},children:[(0,t.jsx)(o.Search,{style:{width:"16px",height:"16px",color:"#94a3b8"}}),(0,t.jsx)("span",{style:{fontSize:"13px",color:"#94a3b8"},children:"بحث..."})]}),(0,t.jsx)("button",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",borderRadius:"10px",cursor:"pointer",color:"#64748b"},children:(0,t.jsx)(l,{style:{width:"20px",height:"20px"}})}),(0,t.jsxs)("button",{style:{position:"relative",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",borderRadius:"10px",cursor:"pointer",color:"#64748b"},children:[(0,t.jsx)(r,{style:{width:"20px",height:"20px"}}),(0,t.jsx)("span",{style:{position:"absolute",top:"8px",left:"8px",width:"8px",height:"8px",backgroundColor:"#ef4444",borderRadius:"50%",border:"2px solid #ffffff"}})]}),(0,t.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"14px",fontWeight:600,boxShadow:"0 2px 8px rgba(99, 102, 241, 0.3)",cursor:"pointer"},children:n?.name.charAt(0)||"A"})]})]})}e.s(["default",()=>n],17235)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},77705,e=>{"use strict";let t=(0,e.i(75254).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],77705)},16015,(e,t,i)=>{},98547,(e,t,i)=>{var s=e.i(47167);e.r(16015);var r=e.r(71645),o=r&&"object"==typeof r&&"default"in r?r:{default:r},l=void 0!==s.default&&s.default.env&&!0,n=function(e){return"[object String]"===Object.prototype.toString.call(e)},a=function(){function e(e){var t=void 0===e?{}:e,i=t.name,s=void 0===i?"stylesheet":i,r=t.optimizeForSpeed,o=void 0===r?l:r;d(n(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",d("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var a="u">typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=a?a.getAttribute("content"):null}var t,i=e.prototype;return i.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},i.isOptimizeForSpeed=function(){return this._optimizeForSpeed},i.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"u">typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(l||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,i){return"number"==typeof i?e._serverSheet.cssRules[i]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),i},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},i.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},i.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},i.insertRule=function(e,t){if(d(n(e),"`insertRule` accepts only strings"),"u"<typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var i=this.getSheet();"number"!=typeof t&&(t=i.cssRules.length);try{i.insertRule(e,t)}catch(t){return l||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},i.replaceRule=function(e,t){if(this._optimizeForSpeed||"u"<typeof window){var i="u">typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!i.cssRules[e])return e;i.deleteRule(e);try{i.insertRule(t,e)}catch(s){l||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),i.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];d(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},i.deleteRule=function(e){if("u"<typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},i.flush=function(){this._injected=!1,this._rulesCount=0,"u">typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},i.cssRules=function(){var e=this;return"u"<typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,i){return i?t=t.concat(Array.prototype.map.call(e.getSheetForTag(i).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},i.makeStyleTag=function(e,t,i){t&&d(n(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return i?r.insertBefore(s,i):r.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0},p={};function x(e,t){if(!t)return"jsx-"+e;var i=String(t),s=e+i;return p[s]||(p[s]="jsx-"+c(e+"-"+i)),p[s]}function h(e,t){"u"<typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var i=e+t;return p[i]||(p[i]=t.replace(/__jsx-style-dynamic-selector/g,e)),p[i]}var f=function(){function e(e){var t=void 0===e?{}:e,i=t.styleSheet,s=void 0===i?null:i,r=t.optimizeForSpeed,o=void 0!==r&&r;this._sheet=s||new a({name:"styled-jsx",optimizeForSpeed:o}),this._sheet.inject(),s&&"boolean"==typeof o&&(this._sheet.setOptimizeForSpeed(o),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"u">typeof window&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var i=this.getIdAndRules(e),s=i.styleId,r=i.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var o=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=o,this._instancesCounts[s]=1},t.remove=function(e){var t=this,i=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(i in this._instancesCounts,"styleId: `"+i+"` not found"),this._instancesCounts[i]-=1,this._instancesCounts[i]<1){var s=this._fromServer&&this._fromServer[i];s?(s.parentNode.removeChild(s),delete this._fromServer[i]):(this._indices[i].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[i]),delete this._instancesCounts[i]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],i=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return i[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,i;return t=this.cssRules(),void 0===(i=e)&&(i={}),t.map(function(e){var t=e[0],s=e[1];return o.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:i.nonce?i.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,i=e.dynamic,s=e.id;if(i){var r=x(s,i);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return h(r,e)}):[h(r,t)]}}return{styleId:x(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),u=r.createContext(null);function g(){return new f}function y(){return r.useContext(u)}u.displayName="StyleSheetContext";var b=o.default.useInsertionEffect||o.default.useLayoutEffect,m="u">typeof window?g():void 0;function j(e){var t=m||y();return t&&("u"<typeof window?t.add(e):b(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}j.dynamic=function(e){return e.map(function(e){return x(e[0],e[1])}).join(" ")},i.StyleRegistry=function(e){var t=e.registry,i=e.children,s=r.useContext(u),l=r.useState(function(){return s||t||g()})[0];return o.default.createElement(u.Provider,{value:l},i)},i.createStyleRegistry=g,i.style=j,i.useStyleRegistry=y},37902,(e,t,i)=>{t.exports=e.r(98547).style},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},43432,e=>{"use strict";let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>t],43432)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},88511,e=>{"use strict";let t=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},23585,e=>{"use strict";let t=(0,e.i(75254).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>t],23585)},55900,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],55900)},30570,e=>{"use strict";var t=e.i(43476),i=e.i(37902),s=e.i(71645),r=e.i(40165),o=e.i(13056),l=e.i(37727),n=e.i(84614),a=e.i(70756),d=e.i(98919),c=e.i(43432),p=e.i(75254);let x=(0,p.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var h=e.i(86536),f=e.i(77705);function u({employee:e,onClose:i,onSave:o,loading:p}){let[u,g]=(0,s.useState)(""),[y,b]=(0,s.useState)(""),[m,j]=(0,s.useState)(""),[v,S]=(0,s.useState)(""),[w,k]=(0,s.useState)("staff"),[C,z]=(0,s.useState)(""),[_,N]=(0,s.useState)(""),[R,I]=(0,s.useState)(!1),[A,W]=(0,s.useState)(""),B=!!e;(0,s.useEffect)(()=>{e&&(g(e.fullName),b(e.username),k(e.role),z(e.phone||""),N(e.position||""))},[e]);let E=async e=>{if(e.preventDefault(),W(""),!u.trim())return void W("الاسم الكامل مطلوب");if(!B){if(!y.trim())return void W("اسم المستخدم مطلوب");if(y.length<3)return void W("اسم المستخدم يجب أن يكون 3 أحرف على الأقل");if(!m)return void W("كلمة المرور مطلوبة");if(m.length<6)return void W("كلمة المرور يجب أن تكون 6 أحرف على الأقل");if(m!==v)return void W("كلمة المرور غير متطابقة")}try{B?await o({fullName:u,role:w,phone:C,position:_}):await o({fullName:u,username:y,password:m,role:w,phone:C,position:_})}catch(e){W(e.message||"حدث خطأ")}},F=[{value:"staff",config:r.ROLE_CONFIG.staff},{value:"cashier",config:r.ROLE_CONFIG.cashier},{value:"admin",config:r.ROLE_CONFIG.admin}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{onClick:i,style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:100}}),(0,t.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"500px",maxWidth:"95vw",maxHeight:"90vh",backgroundColor:"#ffffff",borderRadius:"20px",zIndex:101,overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(n.User,{style:{width:"24px",height:"24px",color:"#ffffff"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{style:{fontSize:"18px",fontWeight:700,color:"#0f172a",margin:0},children:B?"تعديل موظف":"إضافة موظف جديد"}),(0,t.jsx)("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"2px"},children:B?"تحديث بيانات الموظف":"إنشاء حساب موظف جديد"})]})]}),(0,t.jsx)("button",{onClick:i,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f1f5f9",border:"none",borderRadius:"10px",cursor:"pointer",color:"#64748b"},children:(0,t.jsx)(l.X,{style:{width:"18px",height:"18px"}})})]}),(0,t.jsxs)("form",{onSubmit:E,style:{flex:1,overflowY:"auto"},children:[(0,t.jsxs)("div",{style:{padding:"24px"},children:[A&&(0,t.jsx)("div",{style:{padding:"14px 16px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",marginBottom:"20px",fontSize:"14px",color:"#ef4444"},children:A}),(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"10px"},children:[(0,t.jsx)(n.User,{style:{width:"16px",height:"16px"}}),"الاسم الكامل"]}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>g(e.target.value),placeholder:"أدخل الاسم الكامل",required:!0,style:{width:"100%",padding:"14px 16px",backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none"}})]}),!B&&(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"10px"},children:[(0,t.jsx)(n.User,{style:{width:"16px",height:"16px"}}),"اسم المستخدم"]}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>b(e.target.value.toLowerCase().replace(/\s/g,"")),placeholder:"username",required:!0,dir:"ltr",style:{width:"100%",padding:"14px 16px",backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",textAlign:"left"}}),(0,t.jsx)("p",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"6px"},children:"سيستخدم للدخول إلى النظام"})]}),!B&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"10px"},children:[(0,t.jsx)(a.Lock,{style:{width:"16px",height:"16px"}}),"كلمة المرور"]}),(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)("input",{type:R?"text":"password",value:m,onChange:e=>j(e.target.value),placeholder:"أدخل كلمة المرور",required:!0,dir:"ltr",style:{width:"100%",padding:"14px 48px 14px 16px",backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",textAlign:"left"}}),(0,t.jsx)("button",{type:"button",onClick:()=>I(!R),style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#64748b",padding:"4px"},children:R?(0,t.jsx)(f.EyeOff,{size:18}):(0,t.jsx)(h.Eye,{size:18})})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"10px"},children:"تأكيد كلمة المرور"}),(0,t.jsx)("input",{type:R?"text":"password",value:v,onChange:e=>S(e.target.value),placeholder:"أعد إدخال كلمة المرور",required:!0,dir:"ltr",style:{width:"100%",padding:"14px 16px",backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",textAlign:"left"}})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"10px"},children:[(0,t.jsx)(d.Shield,{style:{width:"16px",height:"16px"}}),"الصلاحية"]}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:F.map(({value:e,config:i})=>(0,t.jsxs)("button",{type:"button",onClick:()=>k(e),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",backgroundColor:w===e?i.bgColor:"#f8fafc",border:w===e?`2px solid ${i.color}`:"2px solid #e2e8f0",borderRadius:"12px",cursor:"pointer",textAlign:"right"},children:[(0,t.jsx)("div",{style:{width:"40px",height:"40px",backgroundColor:w===e?i.color:"#e2e8f0",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(d.Shield,{style:{width:"20px",height:"20px",color:w===e?"#ffffff":"#64748b"}})}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("p",{style:{fontSize:"14px",fontWeight:600,color:w===e?i.color:"#0f172a",marginBottom:"2px"},children:i.label}),(0,t.jsx)("p",{style:{fontSize:"12px",color:"#64748b"},children:i.description}),w===e&&(0,t.jsx)("div",{style:{marginTop:"8px",display:"flex",flexWrap:"wrap",gap:"4px"},children:i.permissions.map(e=>(0,t.jsx)("span",{style:{padding:"2px 6px",backgroundColor:"rgba(99, 102, 241, 0.1)",color:"#6366f1",borderRadius:"4px",fontSize:"10px"},children:r.PERMISSION_LABELS[e]||e},e))})]}),w===e&&(0,t.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:i.color,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"#ffffff",strokeWidth:"3",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]},e))})]}),(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"10px"},children:[(0,t.jsx)(c.Phone,{style:{width:"16px",height:"16px"}}),"رقم الهاتف (اختياري)"]}),(0,t.jsx)("input",{type:"tel",value:C,onChange:e=>z(e.target.value),placeholder:"99123456",dir:"ltr",style:{width:"100%",padding:"14px 16px",backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",textAlign:"left"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"10px"},children:[(0,t.jsx)(x,{style:{width:"16px",height:"16px"}}),"المسمى الوظيفي (اختياري)"]}),(0,t.jsx)("input",{type:"text",value:_,onChange:e=>N(e.target.value),placeholder:"مثال: نادل، باريستا...",style:{width:"100%",padding:"14px 16px",backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none"}})]})]}),(0,t.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid #e2e8f0",display:"flex",gap:"12px"},children:[(0,t.jsx)("button",{type:"button",onClick:i,style:{flex:1,padding:"14px",backgroundColor:"#f1f5f9",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:"إلغاء"}),(0,t.jsx)("button",{type:"submit",disabled:p,style:{flex:1,padding:"14px",background:p?"#94a3b8":"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:600,color:"#ffffff",cursor:p?"not-allowed":"pointer"},children:p?"جاري الحفظ...":B?"حفظ التعديلات":"إضافة الموظف"})]})]})]})]})}var g=e.i(88511);let y=(0,p.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),b=(0,p.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var m=e.i(27612),j=e.i(87316),v=e.i(3116),S=e.i(23585),w=e.i(64659),k=e.i(55900);function C({employees:e,loading:o,onEdit:l,onToggleStatus:a,onResetPassword:c,onDelete:p}){let[x,h]=(0,s.useState)(null),[f,u]=(0,s.useState)(null),C=e=>new Date(e).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric"});return o?(0,t.jsx)("div",{style:{backgroundColor:"#ffffff",borderRadius:"16px",border:"1px solid #e2e8f0",padding:"20px"},children:[1,2,3,4].map(e=>(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",padding:"16px 0",borderBottom:"1px solid #f1f5f9"},children:[(0,t.jsx)("div",{style:{width:"48px",height:"48px",backgroundColor:"#f1f5f9",borderRadius:"12px",animation:"pulse 1.5s infinite"}}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("div",{style:{width:"150px",height:"16px",backgroundColor:"#f1f5f9",borderRadius:"4px",marginBottom:"8px",animation:"pulse 1.5s infinite"}}),(0,t.jsx)("div",{style:{width:"100px",height:"12px",backgroundColor:"#f1f5f9",borderRadius:"4px",animation:"pulse 1.5s infinite"}})]})]},e))}):(0,t.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"16px",border:"1px solid #e2e8f0",overflow:"hidden"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)("div",{style:{overflowX:"auto"},className:"jsx-82800555234e8b51",children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)("thead",{className:"jsx-82800555234e8b51",children:(0,t.jsxs)("tr",{style:{backgroundColor:"#f8fafc"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)("th",{style:{padding:"14px 20px",textAlign:"right",fontSize:"12px",fontWeight:600,color:"#64748b",borderBottom:"1px solid #e2e8f0"},className:"jsx-82800555234e8b51",children:"الموظف"}),(0,t.jsx)("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:600,color:"#64748b",borderBottom:"1px solid #e2e8f0"},className:"jsx-82800555234e8b51",children:"اسم المستخدم"}),(0,t.jsx)("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:600,color:"#64748b",borderBottom:"1px solid #e2e8f0"},className:"jsx-82800555234e8b51",children:"الصلاحية"}),(0,t.jsx)("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:600,color:"#64748b",borderBottom:"1px solid #e2e8f0"},className:"jsx-82800555234e8b51",children:"الحالة"}),(0,t.jsx)("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:600,color:"#64748b",borderBottom:"1px solid #e2e8f0"},className:"jsx-82800555234e8b51",children:"تاريخ الإنشاء"}),(0,t.jsx)("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:600,color:"#64748b",borderBottom:"1px solid #e2e8f0"},className:"jsx-82800555234e8b51",children:"آخر دخول"}),(0,t.jsx)("th",{style:{padding:"14px 20px",textAlign:"center",fontSize:"12px",fontWeight:600,color:"#64748b",borderBottom:"1px solid #e2e8f0",width:"100px"},className:"jsx-82800555234e8b51",children:"الإجراءات"})]})}),(0,t.jsx)("tbody",{className:"jsx-82800555234e8b51",children:0===e.length?(0,t.jsx)("tr",{className:"jsx-82800555234e8b51",children:(0,t.jsxs)("td",{colSpan:7,style:{padding:"60px 20px",textAlign:"center"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)(n.User,{style:{width:"48px",height:"48px",color:"#cbd5e1",margin:"0 auto 16px"}}),(0,t.jsx)("p",{style:{fontSize:"16px",color:"#64748b"},className:"jsx-82800555234e8b51",children:"لا يوجد موظفين"})]})}):e.map(e=>{let i=r.ROLE_CONFIG[e.role]||{label:e.role||"غير محدد",color:"#64748b",bgColor:"rgba(100, 116, 139, 0.1)",description:"",permissions:[]};return(0,t.jsxs)("tr",{style:{borderBottom:"1px solid #f1f5f9",opacity:e.isActive?1:.6},className:"jsx-82800555234e8b51",children:[(0,t.jsx)("td",{style:{padding:"16px 20px"},className:"jsx-82800555234e8b51",children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)("div",{style:{width:"48px",height:"48px",background:e.isActive?"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)":"#94a3b8",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:700,color:"#ffffff"},className:"jsx-82800555234e8b51",children:e.fullName.charAt(0)}),(0,t.jsxs)("div",{className:"jsx-82800555234e8b51",children:[(0,t.jsx)("p",{style:{fontSize:"14px",fontWeight:600,color:"#0f172a"},className:"jsx-82800555234e8b51",children:e.fullName}),e.position&&(0,t.jsx)("p",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"},className:"jsx-82800555234e8b51",children:e.position})]})]})}),(0,t.jsx)("td",{style:{padding:"16px"},className:"jsx-82800555234e8b51",children:(0,t.jsx)("code",{style:{fontSize:"13px",color:"#475569",backgroundColor:"#f1f5f9",padding:"4px 8px",borderRadius:"6px"},className:"jsx-82800555234e8b51",children:e.username})}),(0,t.jsx)("td",{style:{padding:"16px"},className:"jsx-82800555234e8b51",children:(0,t.jsxs)("div",{className:"jsx-82800555234e8b51",children:[(0,t.jsxs)("button",{onClick:()=>u(f===e.id?null:e.id),style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:i.bgColor,color:i.color,borderRadius:"20px",fontSize:"12px",fontWeight:600,border:"none",cursor:"pointer"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)(d.Shield,{style:{width:"12px",height:"12px"}}),i.label,f===e.id?(0,t.jsx)(k.ChevronUp,{style:{width:"12px",height:"12px"}}):(0,t.jsx)(w.ChevronDown,{style:{width:"12px",height:"12px"}})]}),f===e.id&&(0,t.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#f8fafc",borderRadius:"8px",fontSize:"11px"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)("p",{style:{color:"#64748b",marginBottom:"6px",fontWeight:600},className:"jsx-82800555234e8b51",children:"الصلاحيات:"}),(0,t.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},className:"jsx-82800555234e8b51",children:i.permissions.map(e=>(0,t.jsx)("span",{style:{padding:"2px 6px",backgroundColor:"#e2e8f0",color:"#475569",borderRadius:"4px",fontSize:"10px"},className:"jsx-82800555234e8b51",children:r.PERMISSION_LABELS[e]||e},e))})]})]})}),(0,t.jsx)("td",{style:{padding:"16px"},className:"jsx-82800555234e8b51",children:(0,t.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:e.isActive?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:e.isActive?"#22c55e":"#ef4444",borderRadius:"20px",fontSize:"12px",fontWeight:600},className:"jsx-82800555234e8b51",children:[(0,t.jsx)("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:e.isActive?"#22c55e":"#ef4444"},className:"jsx-82800555234e8b51"}),e.isActive?"نشط":"معطل"]})}),(0,t.jsx)("td",{style:{padding:"16px"},className:"jsx-82800555234e8b51",children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)(j.Calendar,{style:{width:"14px",height:"14px",color:"#94a3b8"}}),(0,t.jsx)("span",{style:{fontSize:"13px",color:"#64748b"},className:"jsx-82800555234e8b51",children:C(e.createdAt)})]})}),(0,t.jsx)("td",{style:{padding:"16px"},className:"jsx-82800555234e8b51",children:e.lastLoginAt?(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)(v.Clock,{style:{width:"14px",height:"14px",color:"#94a3b8"}}),(0,t.jsxs)("div",{className:"jsx-82800555234e8b51",children:[(0,t.jsx)("span",{style:{fontSize:"13px",color:"#64748b",display:"block"},className:"jsx-82800555234e8b51",children:C(e.lastLoginAt)}),(0,t.jsx)("span",{style:{fontSize:"11px",color:"#94a3b8"},className:"jsx-82800555234e8b51",children:new Date(e.lastLoginAt).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]})]}):(0,t.jsx)("span",{style:{fontSize:"12px",color:"#94a3b8"},className:"jsx-82800555234e8b51",children:"لم يسجل دخول"})}),(0,t.jsx)("td",{style:{padding:"16px 20px"},className:"jsx-82800555234e8b51",children:(0,t.jsxs)("div",{style:{position:"relative"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)("button",{onClick:()=>h(x===e.id?null:e.id),style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:x===e.id?"#f1f5f9":"transparent",border:"none",borderRadius:"8px",cursor:"pointer",margin:"0 auto"},className:"jsx-82800555234e8b51",children:(0,t.jsx)(S.MoreVertical,{style:{width:"18px",height:"18px",color:"#64748b"}})}),x===e.id&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{onClick:()=>h(null),style:{position:"fixed",inset:0,zIndex:10},className:"jsx-82800555234e8b51"}),(0,t.jsxs)("div",{style:{position:"absolute",top:"100%",left:"0",marginTop:"4px",backgroundColor:"#ffffff",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",border:"1px solid #e2e8f0",zIndex:20,minWidth:"160px",overflow:"hidden"},className:"jsx-82800555234e8b51",children:[(0,t.jsxs)("button",{onClick:()=>{l(e),h(null)},style:{width:"100%",display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",backgroundColor:"transparent",border:"none",fontSize:"14px",color:"#374151",cursor:"pointer",textAlign:"right"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)(g.Edit,{style:{width:"16px",height:"16px"}}),"تعديل"]}),(0,t.jsxs)("button",{onClick:()=>{a(e),h(null)},style:{width:"100%",display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",backgroundColor:"transparent",border:"none",fontSize:"14px",color:e.isActive?"#f59e0b":"#22c55e",cursor:"pointer",textAlign:"right"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)(y,{style:{width:"16px",height:"16px"}}),e.isActive?"تعطيل":"تفعيل"]}),(0,t.jsxs)("button",{onClick:()=>{c(e),h(null)},style:{width:"100%",display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",backgroundColor:"transparent",border:"none",fontSize:"14px",color:"#6366f1",cursor:"pointer",textAlign:"right"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)(b,{style:{width:"16px",height:"16px"}}),"إعادة تعيين كلمة المرور"]}),(0,t.jsx)("div",{style:{height:"1px",backgroundColor:"#e2e8f0"},className:"jsx-82800555234e8b51"}),(0,t.jsxs)("button",{onClick:()=>{p(e.id),h(null)},style:{width:"100%",display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",backgroundColor:"transparent",border:"none",fontSize:"14px",color:"#ef4444",cursor:"pointer",textAlign:"right"},className:"jsx-82800555234e8b51",children:[(0,t.jsx)(m.Trash2,{style:{width:"16px",height:"16px"}}),"حذف"]})]})]})]})})]},e.id)})})]})}),e.length>0&&(0,t.jsx)("div",{style:{padding:"16px 20px",borderTop:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-82800555234e8b51",children:(0,t.jsxs)("p",{style:{fontSize:"13px",color:"#64748b"},className:"jsx-82800555234e8b51",children:["عرض ",e.length," موظف"]})}),(0,t.jsx)(i.default,{id:"82800555234e8b51",children:"@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}"})]})}var z=e.i(63209),_=e.i(69638);function N({employee:e,onClose:i,onConfirm:r,loading:o}){let[n,a]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),[p,x]=(0,s.useState)(!1),[u,g]=(0,s.useState)(""),y=async e=>{if(e.preventDefault(),g(""),n.length<6)return void g("كلمة المرور يجب أن تكون 6 أحرف على الأقل");if(n!==d)return void g("كلمة المرور غير متطابقة");try{await r(n)}catch(e){g(e.message||"حدث خطأ")}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{onClick:i,style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:100}}),(0,t.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"420px",maxWidth:"95vw",backgroundColor:"#ffffff",borderRadius:"20px",zIndex:101,overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(b,{style:{width:"24px",height:"24px",color:"#ffffff"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{style:{fontSize:"18px",fontWeight:700,color:"#0f172a",margin:0},children:"إعادة تعيين كلمة المرور"}),(0,t.jsx)("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"2px"},children:e.fullName})]})]}),(0,t.jsx)("button",{onClick:i,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f1f5f9",border:"none",borderRadius:"10px",cursor:"pointer",color:"#64748b"},children:(0,t.jsx)(l.X,{style:{width:"18px",height:"18px"}})})]}),(0,t.jsxs)("form",{onSubmit:y,children:[(0,t.jsxs)("div",{style:{padding:"24px"},children:[u&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"14px 16px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",marginBottom:"20px"},children:[(0,t.jsx)(z.AlertCircle,{style:{width:"18px",height:"18px",color:"#ef4444"}}),(0,t.jsx)("span",{style:{fontSize:"14px",color:"#ef4444"},children:u})]}),(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"10px"},children:"كلمة المرور الجديدة"}),(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)("input",{type:p?"text":"password",value:n,onChange:e=>a(e.target.value),placeholder:"أدخل كلمة المرور الجديدة",required:!0,dir:"ltr",style:{width:"100%",padding:"14px 48px 14px 16px",backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",textAlign:"left"}}),(0,t.jsx)("button",{type:"button",onClick:()=>x(!p),style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#64748b",padding:"4px"},children:p?(0,t.jsx)(f.EyeOff,{size:18}):(0,t.jsx)(h.Eye,{size:18})})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"10px"},children:"تأكيد كلمة المرور"}),(0,t.jsx)("input",{type:p?"text":"password",value:d,onChange:e=>c(e.target.value),placeholder:"أعد إدخال كلمة المرور",required:!0,dir:"ltr",style:{width:"100%",padding:"14px 16px",backgroundColor:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",textAlign:"left"}})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="";for(let i=0;i<8;i++)t+=e.charAt(Math.floor(Math.random()*e.length));a(t),c(t),x(!0)},style:{width:"100%",padding:"12px",backgroundColor:"#f1f5f9",border:"1px dashed #cbd5e1",borderRadius:"10px",fontSize:"13px",fontWeight:500,color:"#475569",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,t.jsx)(b,{style:{width:"16px",height:"16px"}}),"توليد كلمة مرور عشوائية"]}),n&&p&&(0,t.jsxs)("div",{style:{marginTop:"12px",padding:"12px 16px",backgroundColor:"rgba(99, 102, 241, 0.1)",borderRadius:"10px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,t.jsx)(_.CheckCircle,{style:{width:"18px",height:"18px",color:"#6366f1"}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:"12px",color:"#64748b"},children:"كلمة المرور:"}),(0,t.jsx)("code",{style:{fontSize:"16px",fontWeight:600,color:"#6366f1",letterSpacing:"1px"},children:n})]})]})]}),(0,t.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid #e2e8f0",display:"flex",gap:"12px"},children:[(0,t.jsx)("button",{type:"button",onClick:i,style:{flex:1,padding:"14px",backgroundColor:"#f1f5f9",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:"إلغاء"}),(0,t.jsx)("button",{type:"submit",disabled:o,style:{flex:1,padding:"14px",background:o?"#94a3b8":"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:600,color:"#ffffff",cursor:o?"not-allowed":"pointer"},children:o?"جاري الحفظ...":"تغيير كلمة المرور"})]})]})]})]})}var R=e.i(17235),I=e.i(7233),A=e.i(55436),W=e.i(61911),B=e.i(16715),E=e.i(18566);function F(){let e=(0,E.useRouter)(),{user:l}=(0,o.useAuth)(),[n,a]=(0,s.useState)([]),[c,p]=(0,s.useState)(!0),[x,h]=(0,s.useState)(!1),[f,g]=(0,s.useState)(""),[y,b]=(0,s.useState)("all"),[m,j]=(0,s.useState)("all"),[v,S]=(0,s.useState)(!1),[w,k]=(0,s.useState)(null),[z,_]=(0,s.useState)(null),[F,M]=(0,s.useState)(!1);(0,s.useEffect)(()=>{T()},[]);let T=async()=>{try{let e=await (0,r.getEmployees)();a(e)}catch(e){console.error("Error loading employees:",e)}finally{p(!1)}},O=async()=>{h(!0),await T(),h(!1)},L=async e=>{M(!0);try{"username"in e&&"password"in e&&await (0,r.createEmployee)(e,l?.id||"admin"),await T(),S(!1)}catch(e){throw e}finally{M(!1)}},P=async e=>{if(w){M(!0);try{await (0,r.updateEmployee)(w.id,{fullName:e.fullName,role:e.role,phone:e.phone,position:e.position}),await T(),k(null)}catch(e){throw e}finally{M(!1)}}},q=async e=>{if(confirm("هل أنت متأكد من حذف هذا الموظف؟"))try{await (0,r.deleteEmployee)(e),await T()}catch(e){console.error("Error deleting employee:",e)}},U=async e=>{try{await (0,r.toggleEmployeeStatus)(e.id,!e.isActive),await T()}catch(e){console.error("Error toggling status:",e)}},D=async e=>{if(z)try{await (0,r.resetEmployeePassword)(z.id,e),_(null)}catch(e){throw console.error("Error resetting password:",e),e}},H=n.filter(e=>{if("all"!==y&&e.role!==y||"active"===m&&!e.isActive||"inactive"===m&&e.isActive)return!1;if(f){let t=f.toLowerCase();return e.fullName.toLowerCase().includes(t)||e.username.toLowerCase().includes(t)||e.position?.toLowerCase().includes(t)}return!0}),G={total:n.length,active:n.filter(e=>e.isActive).length,admins:n.filter(e=>"admin"===e.role).length,cashiers:n.filter(e=>"cashier"===e.role).length,staff:n.filter(e=>"staff"===e.role).length};return c?(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},className:"jsx-1875cac4975ab454",children:[(0,t.jsxs)("div",{style:{textAlign:"center"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)("div",{style:{width:"40px",height:"40px",border:"3px solid #e2e8f0",borderTopColor:"#6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"},className:"jsx-1875cac4975ab454"}),(0,t.jsx)("p",{style:{marginTop:"16px",fontSize:"14px",color:"#64748b"},className:"jsx-1875cac4975ab454",children:"جاري التحميل..."})]}),(0,t.jsx)(i.default,{id:"1875cac4975ab454",children:"@keyframes spin{to{transform:rotate(360deg)}}"})]}):(0,t.jsxs)("div",{style:{minHeight:"100vh"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)(R.default,{title:"إدارة الموظفين",subtitle:"إضافة وتعديل وإدارة الموظفين"}),(0,t.jsxs)("div",{style:{padding:"24px"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px",marginBottom:"24px"},className:"jsx-1875cac4975ab454",children:[{label:"إجمالي الموظفين",value:G.total,color:"#6366f1"},{label:"نشط",value:G.active,color:"#22c55e"},{label:"مديرين",value:G.admins,color:"#dc2626"},{label:"كاشير",value:G.cashiers,color:"#f59e0b"},{label:"موظفين",value:G.staff,color:"#3b82f6"}].map((e,i)=>(0,t.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"16px",padding:"20px",border:"1px solid #e2e8f0"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)("div",{style:{fontSize:"28px",fontWeight:700,color:e.color},className:"jsx-1875cac4975ab454",children:e.value}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#64748b",marginTop:"4px"},className:"jsx-1875cac4975ab454",children:e.label})]},i))}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"16px"},className:"jsx-1875cac4975ab454",children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-1875cac4975ab454",children:(0,t.jsx)(W.Users,{style:{width:"24px",height:"24px",color:"#ffffff"}})}),(0,t.jsxs)("div",{className:"jsx-1875cac4975ab454",children:[(0,t.jsx)("h2",{style:{fontSize:"20px",fontWeight:700,color:"#0f172a",margin:0},className:"jsx-1875cac4975ab454",children:"قائمة الموظفين"}),(0,t.jsxs)("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"2px"},className:"jsx-1875cac4975ab454",children:[H.length," موظف"]})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)("button",{onClick:O,disabled:x,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",backgroundColor:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",fontWeight:500,color:"#475569",cursor:"pointer"},className:"jsx-1875cac4975ab454",children:(0,t.jsx)(B.RefreshCw,{style:{width:"18px",height:"18px",animation:x?"spin 1s linear infinite":"none"}})}),(0,t.jsxs)("button",{onClick:()=>e.push("/admin/add-admin"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:600,color:"#ffffff",cursor:"pointer"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)(d.Shield,{style:{width:"18px",height:"18px"}}),"إضافة أدمن"]}),(0,t.jsxs)("button",{onClick:()=>S(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:600,color:"#ffffff",cursor:"pointer"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)(I.Plus,{style:{width:"18px",height:"18px"}}),"إضافة موظف"]})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",marginBottom:"20px",flexWrap:"wrap"},className:"jsx-1875cac4975ab454",children:[(0,t.jsxs)("div",{style:{position:"relative",flex:1,minWidth:"200px"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)(A.Search,{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",width:"18px",height:"18px",color:"#94a3b8"}}),(0,t.jsx)("input",{type:"text",placeholder:"بحث بالاسم أو اسم المستخدم...",value:f,onChange:e=>g(e.target.value),style:{width:"100%",padding:"10px 40px 10px 12px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none"},className:"jsx-1875cac4975ab454"})]}),(0,t.jsxs)("select",{value:y,onChange:e=>b(e.target.value),style:{padding:"10px 16px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",cursor:"pointer"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)("option",{value:"all",className:"jsx-1875cac4975ab454",children:"جميع الأدوار"}),(0,t.jsx)("option",{value:"admin",className:"jsx-1875cac4975ab454",children:"مدير"}),(0,t.jsx)("option",{value:"cashier",className:"jsx-1875cac4975ab454",children:"كاشير"}),(0,t.jsx)("option",{value:"staff",className:"jsx-1875cac4975ab454",children:"موظف"})]}),(0,t.jsxs)("select",{value:m,onChange:e=>j(e.target.value),style:{padding:"10px 16px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",outline:"none",cursor:"pointer"},className:"jsx-1875cac4975ab454",children:[(0,t.jsx)("option",{value:"all",className:"jsx-1875cac4975ab454",children:"الكل"}),(0,t.jsx)("option",{value:"active",className:"jsx-1875cac4975ab454",children:"نشط"}),(0,t.jsx)("option",{value:"inactive",className:"jsx-1875cac4975ab454",children:"غير نشط"})]})]}),(0,t.jsx)(C,{employees:H,onEdit:e=>k(e),onDelete:q,onToggleStatus:U,onResetPassword:e=>_(e)})]}),(v||w)&&(0,t.jsx)(u,{employee:w,onClose:()=>{S(!1),k(null)},onSave:w?P:L,loading:F}),z&&(0,t.jsx)(N,{employee:z,onClose:()=>_(null),onConfirm:D}),(0,t.jsx)(i.default,{id:"1875cac4975ab454",children:"@keyframes spin{to{transform:rotate(360deg)}}"})]})}e.s(["default",()=>F],30570)}]);