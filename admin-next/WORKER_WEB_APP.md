# تطبيق الويب للعمال

## نظرة عامة
تطبيق ويب للعمال مبني على Next.js مع نظام صلاحيات كامل.

## المميزات

### 1. نظام تسجيل الدخول
- صفحة تسجيل دخول مخصصة للعمال: `/worker/login`
- التحقق من الصلاحيات تلقائياً
- إعادة توجيه تلقائي حسب حالة المصادقة

### 2. الصفحة الرئيسية
- عرض الأقسام المتاحة حسب الصلاحيات
- تصميم responsive للجوال والكمبيوتر
- واجهة بسيطة وسهلة الاستخدام

### 3. الصفحات المتاحة

#### المنيو (`/worker/menu`)
- عرض المنتجات والتصنيفات
- إضافة المنتجات للسلة
- إنشاء طلبات
- دعم إخفاء الأسعار حسب الصلاحيات

#### الطلبات (`/worker/orders`)
- عرض جميع الطلبات
- تحديث حالة الطلب (قيد الانتظار → قيد التحضير → جاهز)
- عرض تفاصيل الطلب

#### الكاشير (`/worker/cashier`)
- عرض المنتجات
- إضافة للسلة وإنشاء طلبات
- دعم معالجة الدفع (حسب الصلاحيات)

#### الطاولات (`/worker/tables`)
- عرض حالة الطاولات
- متاحة/مشغولة

#### الغرف (`/worker/rooms`)
- عرض حالة الغرف
- الأسعار (مخفية إذا لم تكن هناك صلاحية)

#### المخزون (`/worker/inventory`)
- صفحة قيد التطوير

#### التقارير (`/worker/reports`)
- صفحة قيد التطوير

#### المنتجات (`/worker/products`)
- عرض جميع المنتجات
- تصفية حسب التصنيف
- دعم إخفاء الأسعار

## نظام الصلاحيات

### الوحدات (Modules)
- `staff-menu` - منيو الموظفين
- `orders` - الطلبات
- `tables` - الطاولات
- `rooms` - الغرف
- `cashier` - الكاشير
- `inventory` - المخزون
- `reports` - التقارير
- `products` - المنتجات

### الإجراءات (Actions)
- `createOrder` - إنشاء طلب
- `editOrder` - تعديل طلب
- `cancelOrder` - إلغاء طلب
- `processPayment` - معالجة الدفع
- `applyDiscount` - تطبيق خصم
- `viewFinancials` - عرض البيانات المالية
- `manageProducts` - إدارة المنتجات
- `manageTables` - إدارة الطاولات
- `manageRooms` - إدارة الغرف
- `dailyClosing` - إغلاق يومي

### إخفاء البيانات المالية
عندما يكون `viewFinancials: false`:
- يتم إخفاء جميع الأسعار (تعرض "---")
- يتم إخفاء الإجماليات
- يتم إخفاء التقارير المالية

## كيفية الاستخدام

### 1. تسجيل الدخول
1. اذهب إلى `/worker/login`
2. أدخل اسم المستخدم وكلمة المرور
3. سيتم توجيهك تلقائياً للصفحة الرئيسية

### 2. التنقل
- من الصفحة الرئيسية، اضغط على أي قسم متاح
- استخدم زر "رجوع" للعودة للصفحة الرئيسية

### 3. تسجيل الخروج
- اضغط على "تسجيل الخروج" في الصفحة الرئيسية

## التصميم

- **Responsive**: يعمل على الجوال والكمبيوتر
- **Modern UI**: تصميم احترافي مع ألوان منسقة
- **Fast**: تحميل سريع وتفاعل سلس
- **RTL Support**: دعم كامل للغة العربية

## العملة

جميع الأسعار بالريال العُماني (ر.ع) من Firebase.

## ملاحظات

- يجب تسجيل الخروج وإعادة الدخول بعد تحديث الصلاحيات
- الصلاحيات تُجلب من Firebase تلقائياً
- المدير (admin) لديه جميع الصلاحيات تلقائياً
